(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-684fb36c"],{"0440":function(e,t,n){"use strict";var r=n("123c");n.n(r).a},"0b25":function(e,t,n){var r=n("a691"),i=n("50c4");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},1188:function(e,t,n){var r,i,a;n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("4de4"),n("c740"),n("4160"),n("a630"),n("caad"),n("a15b"),n("d81d"),n("a434"),n("ace4"),n("b0c0"),n("a9e3"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280b"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0");var s,o=n("62f5");s=function(e,t){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}for(var s=function(e,t){return function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}}(t={exports:{}}),t.exports}(),o=[],u=0;u<256;++u)o[u]=(u+256).toString(16).substr(1);var c=function(e,t){var n=t||0,r=o;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},l=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||c(i)},d=/[A-Z]/g,f=/^ms-/,h={};function p(e){return"-"+e.toLowerCase()}function m(e){if(h.hasOwnProperty(e))return h[e];var t=e.replace(d,p);return h[e]=f.test(t)?"-"+t:t}var g={name:"vue-baberrage-message",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{isCustom:!1}},mounted:function(){this.isCustom=!!this.$scopedSlots.default}};function b(e,t,n,r,i,a,s,o,u,c){"boolean"!=typeof s&&(u=o,o=s,s=!1);var l,d="function"==typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),r&&(d._scopeId=r),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=l):t&&(l=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),l)if(d.functional){var f=d.render;d.render=function(e,t){return l.call(t),f(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,l):[l]}return n}var y,v="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function A(e){return function(e,t){return function(e,t){var n=v?t.media||"default":e,r=w[n]||(w[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var i=t.source;if(t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===y&&(y=document.head||document.getElementsByTagName("head")[0]),y.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(i),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var a=r.ids.size-1,s=document.createTextNode(i),o=r.element.childNodes;o[a]&&r.element.removeChild(o[a]),o.length?r.element.insertBefore(s,o[a]):r.element.appendChild(s)}}}(e,t)}}var w={},x=g,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"baberrage-item",class:e.item.barrageStyle,style:e.item.style},[e.isCustom?[e._t("default")]:n("div",{staticClass:"normal"},[n("div",{staticClass:"baberrage-avatar"},[n("img",{attrs:{src:e.item.avatar}})]),e._v(" "),n("div",{staticClass:"baberrage-msg"},[e._v(e._s(e.item.msg))])])],2)};_._withStripped=!0;var T=b({render:_,staticRenderFns:[]},(function(e){e&&e("data-v-600778c7_0",{source:".baberrage-item {\n  position: absolute;\n  width: auto;\n  display: block;\n  color: #000;\n  transform: translateX(500%);\n  padding: 5px 0 5px 0;\n  box-sizing: border-box;\n  text-align: left;\n  white-space: nowrap;\n}\n.baberrage-item .normal {\n  display: flex;\n  box-sizing: border-box;\n  padding: 5px;\n}\n.baberrage-item .normal .baberrage-avatar {\n  width: 30px;\n  height: 30px;\n  border-radius: 50px;\n  overflow: hidden;\n}\n.baberrage-item .normal .baberrage-avatar img {\n  width: 30px;\n}\n.baberrage-item .baberrage-msg {\n  line-height: 30px;\n  padding-left: 8px;\n  white-space: nowrap;\n}\n.baberrage-item .normal {\n  background: rgba(0, 0, 0, 0.7);\n  border-radius: 100px;\n  color: #FFF;\n}\n",map:{version:3,sources:["index.vue","/Users/chenhao/Documents/work/vue-baberrage/src/lib/components/vue-baberrage-msg/index.vue"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,cAAc;EACd,WAAW;EACX,2BAA2B;EAC3B,oBAAoB;EACpB,sBAAsB;EACtB,gBAAgB;EAChB,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;EACZ,mBAAmB;EACnB,gBAAgB;AAClB;AACA;EACE,WAAW;AACb;AACA;EACE,iBAAiB;EACjB,iBAAiB;EACjB,mBAAmB;AACrB;AACA;EACE,8BAA8B;ECChC,oBAAA;EACA,WAAA;AACA",file:"index.vue",sourcesContent:[".baberrage-item {\n  position: absolute;\n  width: auto;\n  display: block;\n  color: #000;\n  transform: translateX(500%);\n  padding: 5px 0 5px 0;\n  box-sizing: border-box;\n  text-align: left;\n  white-space: nowrap;\n}\n.baberrage-item .normal {\n  display: flex;\n  box-sizing: border-box;\n  padding: 5px;\n}\n.baberrage-item .normal .baberrage-avatar {\n  width: 30px;\n  height: 30px;\n  border-radius: 50px;\n  overflow: hidden;\n}\n.baberrage-item .normal .baberrage-avatar img {\n  width: 30px;\n}\n.baberrage-item .baberrage-msg {\n  line-height: 30px;\n  padding-left: 8px;\n  white-space: nowrap;\n}\n.baberrage-item .normal {\n  background: rgba(0, 0, 0, 0.7);\n  border-radius: 100px;\n  color: #FFF;\n}\n",'<template>\n  <div class="baberrage-item" v-bind:class="item.barrageStyle" v-bind:style="item.style">\n    <template v-if="isCustom">\n      <slot></slot>\n    </template>\n    <div v-else class="normal">\n      <div class="baberrage-avatar"><img :src="item.avatar"></div>\n      <div class="baberrage-msg">{{ item.msg }}</div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \'vue-baberrage-message\',\n  props: {\n    item: {\n      type: Object,\n      default () { return {} }\n    }\n  },\n  data () {\n    return {\n      isCustom: false // 弹幕格式是否是自定义\n    }\n  },\n  mounted () {\n    this.isCustom = !!this.$scopedSlots.default\n  }\n}\n<\/script>\n\n<style lang="less">\n.baberrage-item {\n  position: absolute;\n  width:auto;\n  display:block;\n  color:#000;\n  transform: translateX(500%);\n  padding:5px 0 5px 0;\n  box-sizing: border-box;\n  text-align:left;\n  white-space:nowrap;\n\n  .normal {\n    display: flex;\n    box-sizing: border-box;\n    padding: 5px;\n\n    .baberrage-avatar {\n      width:30px;\n      height:30px;\n      border-radius:50px;\n      overflow: hidden;\n\n      img {\n        width:30px;\n      }\n    }\n  }\n\n  .baberrage-msg{\n    line-height:30px;\n    padding-left:8px;\n    white-space:nowrap;\n  }\n}\n\n.baberrage-item .normal{\n  background:rgba(0,0,0,.7);\n  border-radius:100px;\n  color:#FFF;\n}\n</style>\n']},media:void 0})}),x,void 0,!1,void 0,!1,A,void 0,void 0),C={NORMAL:Symbol("NORMAL"),FROM_TOP:Symbol("FROM_TOP"),FROM_BOTTOM:Symbol("FROM_BOTTOM")},E=n("b94e");window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)};var M={name:"vue-baberrage",components:{VueBaberrageMsg:T},props:{isShow:{type:Boolean,default:!0},lanesCount:{type:Number,default:0},barrageList:{type:Array,default:function(){return[]}},boxWidth:{type:Number,default:0},boxHeight:{type:Number,default:0},messageHeight:{type:Number,default:40},messageGap:{type:Number,default:5},loop:{type:Boolean,default:!1},maxWordCount:{type:Number,default:20},throttleGap:{type:Number,default:2e3},posRender:{type:Function}},data:function(){return{boxWidthVal:this.boxWidth,boxHeightVal:this.boxHeight,loopVal:this.loop,laneNum:0,lanes:[],startTime:0,frameId:null,readyId:0,topQueue:[],bottomQueue:[],normalQueue:[],showInd:0,indexShowQueue:[],taskQueue:[],taskIsRunning:!1,taskLastTime:null,isFixLanes:!1}},mounted:function(){0===this.boxWidthVal&&(this.boxWidthVal=this.$refs.stage.parentNode.offsetWidth),0===this.lanesCount?this.setUpLane(this.boxHeightVal):(this.setUpLane(this.lanesCount,!0),this.isFixLanes=!0),this.shuffle(),this.play()},watch:{barrageList:function(e){this.insertToReadyShowQueue()},boxHeight:function(e){this.isFixLanes||this.setUpLane(e)},lanes:function(e){e>0&&(this.setUpLane(e,!0),this.isFixLanes=!0)}},methods:{setUpLane:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.laneNum>>>0;if(t?(this.laneNum=this.lanesCount,this.boxHeightVal=this.lanesCount*(this.messageHeight+this.messageGap)):(0===e&&(e=0===(e=this.$refs.stage.parentNode.offsetHeight)?window.innerHeight:e),this.boxHeightVal=e,this.laneNum=Math.floor(e/(this.messageHeight+2*this.messageGap))),n<this.laneNum)for(var r=n;r<this.laneNum;r++)this.lanes.push({id:r,laneQueue:[]});else this.lanes.splice(this.laneNum)},shuffle:function(){var e=this.laneNum;this.indexShowQueue=Array.from({length:e},(function(e,t){return t}))},insertToReadyShowQueue:function(){var e=this;clearTimeout(this.readyId),this.readyId=t.setTimeout((function(){for(var t=function(){var t=e.barrageList.splice(0,e.laneNum);e.addTask((function(){e.normalQueue=[].concat(a(e.normalQueue),a(t))}))};e.barrageList.length>0;)t();e.updateBarrageDate()}),300)},updateBarrageDate:function(e){null==this.startTime&&(this.startTime=e),void 0!==e&&this.move(e),this.normalQueue.length>0||this.topQueue.length>0||this.bottomQueue.length>0?this.play():(this.$emit("barrage-list-empty"),this.frameId=null)},play:function(){this.frameId=requestAnimationFrame(this.updateBarrageDate)},pause:function(){cancelAnimationFrame(this.frameId)},replay:function(){this.normalQueue.forEach((function(e){e.startTime=null})),this.play()},move:function(e){var t=this;this.normalQueue.forEach((function(n,r){if(n.startTime){if(n.type===C.NORMAL&&(t.normalMove(n,e),n.left+n.width<0)){if(!t.lanes[n.laneId])return;var i=t.lanes[n.laneId].laneQueue.findIndex((function(e){return e.runtimeId===n.runtimeId}));t.lanes[n.laneId].laneQueue.splice(i,1),t.loopVal?t.itemReset(n,e):t.normalQueue.splice(r,1)}}else{if(n.type===C.FROM_TOP){if("top"!==n.position&&"bottom"!==n.position)throw new Error("Position only between top and bottom when the type equal 1");t.fixMove(n,e),t.normalQueue.splice(r,1)}t.itemReset(n,e)}})),this.queueRefresh(e)},normalMove:function(e,t){var n=t-e.currentTime;e.currentTime=t;var r=e.speed*n;r<=0||isNaN(r)||(e.left-=r,this.moveTo(e,{x:e.left,y:e.top<0?0:e.top}))},fixMove:function(e,t){this[e.position+"Queue"].includes(e)||this[e.position+"Queue"].push(e)},queueRefresh:function(e){var t=this;this.topQueue.forEach((function(n){n.startTime+1e3*n.time<=e&&t.topQueue.shift()})),this.bottomQueue.forEach((function(n){n.startTime+1e3*n.time<=e&&t.bottomQueue.shift()}))},selectPos:function(){return this.posRender?this.posRender(this.lanes):(this.showInd+1>this.laneNum&&(this.showInd=0),this.showInd++)},isWaiting:function(e){return e.left>this.boxWidthVal},itemReset:function(e,t){var n=this;if(e.runtimeId=l(),e.msg=e.data&&e.data.msg||e.msg,e.type=e.type||C.NORMAL,e.position=e.position||"top",e.barrageStyle=e.barrageStyle||"normal",e.startTime=t,e.currentTime=t,e.speed=this.boxWidthVal/(1e3*e.time),e.cssStyle={},Object.keys(e.style||{}).forEach((function(t){e.cssStyle[m(t)]=n.isNumber(e.style[t])?e.style[t]+"px":e.style[t]})),e.width=this.strlen(e.msg)*this.toPxiel(e.cssStyle["font-size"]||"9px")*.6+(e.extraWidth||0)+function(e){if(!e)return 0;var t={},n=0;return Object.keys(e||{}).forEach((function(r){switch(t[m(r)]=isNaN(e[r])?e[r]:e[r]+"px",m(r)){case"padding":var i=e[r].split(" ");4===i.length?n+=+i[1].replace("px","")+ +i[3].replace("px",""):2===i.length?n+=2*+i[1].replace("px",""):n+=2*+i[0].replace("px","");break;case"padding-left":case"padding-right":n+=+e[r].replace("px","")}})),n}(e.cssStyle),e.type===C.NORMAL){var r=this.selectPos();e.laneId=r;var i=this.boxWidthVal;if(this.lanes[r].laneQueue.length>0){var a=this.lanes[r].laneQueue[this.lanes[r].laneQueue.length-1];a.left>this.boxWidthVal||a.left>this.boxWidthVal-a.width?i=a.width+a.left:i+=a.width}this.lanes[r].laneQueue.push(e),e.top=this.indexShowQueue[r]*(this.messageHeight+this.messageGap),e.left=i}else e.left=(this.boxWidthVal-e.width)/2,"top"===e.position?e.top=(this[e.position+"Queue"].length-1)*this.messageHeight+2*this.messageGap:e.top=this.boxHeightVal-(this[e.position+"Queue"].length*this.messageHeight+100);this.moveTo(e,{x:e.left,y:e.top<0?0:e.top})},toPxiel:function(e){return this.isNumber(e)?E(e+"px"):E(e)},moveTo:function(e,t){t.x,t.y,this.$set(e,"style",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.cssStyle,{transform:"translate3d("+e.left+"px,"+e.top+"px,0)"}))},addTask:function(e){this.taskQueue.push(e),this.taskQueue.length>0&&!this.taskIsRunning&&(this.taskIsRunning=!0,window.requestAnimationFrame(this.runTask))},runTask:function(e){if(!this.taskLastTime||e-this.taskLastTime>=this.throttleGap){var t=this.taskQueue.shift();this.taskLastTime=e,t()}this.taskQueue.length>0?window.requestAnimationFrame(this.runTask):this.taskIsRunning=!1},strlen:function(e){var t=0;for(var n in e)e.charCodeAt(n)>127||94===e.charCodeAt(n)?t+=2:t++;return t},isNumber:function(e){return!isNaN(e)}}},I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],ref:"stage",staticClass:"baberrage-stage",style:{width:e.boxWidthVal+"px"}},[n("div",{staticClass:"baberrage-top"},e._l(e.topQueue,(function(e){return n("VueBaberrageMsg",{key:e.id,staticClass:"baberrage-item",attrs:{item:e}})})),1),e._v(" "),e._l(e.lanes,(function(t){return n("div",{key:t.id,staticClass:"baberrage-lane"},e._l(t.laneQueue,(function(t){return n("VueBaberrageMsg",{key:t.runtimeId,staticClass:"baberrage-item",attrs:{item:t}},[e._t("default",null,{item:t})],2)})),1)})),e._v(" "),n("div",{staticClass:"baberrage-bottom"},e._l(e.bottomQueue,(function(e){return n("VueBaberrageMsg",{key:e.id,staticClass:"baberrage-item",attrs:{item:e}})})),1)],2)};I._withStripped=!0;var B=b({render:I,staticRenderFns:[]},(function(e){e&&e("data-v-71e78858_0",{source:".baberrage-stage {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n",map:{version:3,sources:["vue-baberrage.vue"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,gBAAgB;AAClB",file:"vue-baberrage.vue",sourcesContent:[".baberrage-stage {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n"]},media:void 0})}),M,void 0,!1,void 0,!1,A,void 0,void 0);B.install=function(e,t){e.component(B.name,B)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(B),e.MESSAGE_TYPE=C,e.vueBaberrage=B,Object.defineProperty(e,"__esModule",{value:!0})},"object"==o(t)&&void 0!==e?s(t,n("5118")):(i=[t,n("5118")],void 0===(a="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=a))},"123c":function(e,t,n){},"145e":function(e,t,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4"),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),o=a(n.length),u=i(e,o),c=i(t,o),l=arguments.length>2?arguments[2]:void 0,d=s((void 0===l?o:i(l,o))-c,o-u),f=1;for(c<u&&u<c+d&&(f=-1,c+=d-1,u+=d-1);d-- >0;)c in n?n[u]=n[c]:delete n[u],u+=f,c+=f;return n}},"170b":function(e,t,n){"use strict";var r=n("ebb5"),i=n("50c4"),a=n("23cb"),s=n("4840"),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=o(this),r=n.length,u=a(e,r);return new(s(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-u))}))},"182d":function(e,t,n){var r=n("f8cd");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},"219c":function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=[].sort;a("sort",(function(e){return s.call(i(this),e)}))},"25a1":function(e,t,n){"use strict";var r=n("ebb5"),i=n("d58f").right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2954:function(e,t,n){"use strict";var r=n("ebb5"),i=n("4840"),a=n("d039"),s=r.aTypedArray,o=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,c=[].slice;u("slice",(function(e,t){for(var n=c.call(s(this),e,t),r=i(this,this.constructor),a=0,u=n.length,l=new(o(r))(u);u>a;)l[a]=n[a++];return l}),a((function(){new Int8Array(1).slice()})))},"3280b":function(e,t,n){"use strict";var r=n("ebb5"),i=n("e58c"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){return i.apply(a(this),arguments)}))},"3a7b":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(e,t,n){"use strict";var r=n("ebb5"),i=n("50c4"),a=n("182d"),s=n("7b0b"),o=n("d039"),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(e){u(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=s(e),o=i(r.length),c=0;if(o+t>n)throw RangeError("Wrong length");for(;c<o;)this[t+c]=r[c++]}),o((function(){new Int8Array(1).set({})})))},"3fcc":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").map,a=n("4840"),s=r.aTypedArray,o=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(o(a(e,e.constructor)))(t)}))}))},"3fe9":function(e,t,n){},"411b":function(e,t,n){"use strict";var r=n("3fe9");n.n(r).a},"4c69":function(e,t){e.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},5118:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("6017"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("c8ba"))},"5cc6":function(e,t,n){n("74e8")("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"5f96":function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=[].join;a("join",(function(e){return s.apply(i(this),arguments)}))},6017:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,a,s,o,u=1,c={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),r=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},f.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("c8ba"),n("4362"))},6062:function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"60bd":function(e,t,n){"use strict";var r=n("da84"),i=n("ebb5"),a=n("e260"),s=n("b622")("iterator"),o=r.Uint8Array,u=a.values,c=a.keys,l=a.entries,d=i.aTypedArray,f=i.exportTypedArrayMethod,h=o&&o.prototype[s],p=!!h&&("values"==h.name||void 0==h.name),m=function(){return u.call(d(this))};f("entries",(function(){return l.call(d(this))})),f("keys",(function(){return c.call(d(this))})),f("values",m,!p),f(s,m,!p)},"621a":function(e,t,n){"use strict";var r=n("da84"),i=n("83ab"),a=n("a981"),s=n("9112"),o=n("e2cc"),u=n("d039"),c=n("19aa"),l=n("a691"),d=n("50c4"),f=n("0b25"),h=n("77a7"),p=n("e163"),m=n("d2bb"),g=n("241c").f,b=n("9bf2").f,y=n("81d5"),v=n("d44e"),A=n("69f3"),w=A.get,x=A.set,_=r.ArrayBuffer,T=_,C=r.DataView,E=C&&C.prototype,M=Object.prototype,I=r.RangeError,B=h.pack,O=h.unpack,S=function(e){return[255&e]},L=function(e){return[255&e,e>>8&255]},R=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},k=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},F=function(e){return B(e,23,4)},N=function(e){return B(e,52,8)},V=function(e,t){b(e.prototype,t,{get:function(){return w(this)[t]}})},W=function(e,t,n,r){var i=f(n),a=w(e);if(i+t>a.byteLength)throw I("Wrong index");var s=w(a.buffer).bytes,o=i+a.byteOffset,u=s.slice(o,o+t);return r?u:u.reverse()},j=function(e,t,n,r,i,a){var s=f(n),o=w(e);if(s+t>o.byteLength)throw I("Wrong index");for(var u=w(o.buffer).bytes,c=s+o.byteOffset,l=r(+i),d=0;d<t;d++)u[c+d]=l[a?d:t-d-1]};if(a){if(!u((function(){_(1)}))||!u((function(){new _(-1)}))||u((function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name}))){for(var D,Q=(T=function(e){return c(this,T),new _(f(e))}).prototype=_.prototype,$=g(_),q=0;$.length>q;)(D=$[q++])in T||s(T,D,_[D]);Q.constructor=T}m&&p(E)!==M&&m(E,M);var P=new C(new T(2)),U=E.setInt8;P.setInt8(0,2147483648),P.setInt8(1,2147483649),!P.getInt8(0)&&P.getInt8(1)||o(E,{setInt8:function(e,t){U.call(this,e,t<<24>>24)},setUint8:function(e,t){U.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,"ArrayBuffer");var t=f(e);x(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},C=function(e,t,n){c(this,C,"DataView"),c(e,T,"DataView");var r=w(e).byteLength,a=l(t);if(a<0||a>r)throw I("Wrong offset");if(a+(n=void 0===n?r-a:d(n))>r)throw I("Wrong length");x(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(V(T,"byteLength"),V(C,"buffer"),V(C,"byteLength"),V(C,"byteOffset")),o(C.prototype,{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return k(W(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return k(W(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return O(W(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return O(W(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){j(this,1,e,S,t)},setUint8:function(e,t){j(this,1,e,S,t)},setInt16:function(e,t){j(this,2,e,L,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){j(this,2,e,L,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){j(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){j(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){j(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){j(this,8,e,N,t,arguments.length>2?arguments[2]:void 0)}});v(T,"ArrayBuffer"),v(C,"DataView"),e.exports={ArrayBuffer:T,DataView:C}},6284:function(e,t,n){"use strict";var r=n("fe7c");n.n(r).a},"649e":function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"72f7":function(e,t,n){"use strict";var r=n("ebb5").exportTypedArrayMethod,i=n("d039"),a=n("da84").Uint8Array,s=a&&a.prototype||{},o=[].toString,u=[].join;i((function(){o.call({})}))&&(o=function(){return u.call(this)});var c=s.toString!=o;r("toString",o,c)},"735e":function(e,t,n){"use strict";var r=n("ebb5"),i=n("81d5"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(e){return i.apply(a(this),arguments)}))},"74e8":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("83ab"),s=n("8aa7"),o=n("ebb5"),u=n("621a"),c=n("19aa"),l=n("5c6c"),d=n("9112"),f=n("50c4"),h=n("0b25"),p=n("182d"),m=n("c04e"),g=n("5135"),b=n("f5df"),y=n("861d"),v=n("7c73"),A=n("d2bb"),w=n("241c").f,x=n("a078"),_=n("b727").forEach,T=n("2626"),C=n("9bf2"),E=n("06cf"),M=n("69f3"),I=n("7156"),B=M.get,O=M.set,S=C.f,L=E.f,R=Math.round,k=i.RangeError,F=u.ArrayBuffer,N=u.DataView,V=o.NATIVE_ARRAY_BUFFER_VIEWS,W=o.TYPED_ARRAY_TAG,j=o.TypedArray,D=o.TypedArrayPrototype,Q=o.aTypedArrayConstructor,$=o.isTypedArray,q=function(e,t){for(var n=0,r=t.length,i=new(Q(e))(r);r>n;)i[n]=t[n++];return i},P=function(e,t){S(e,t,{get:function(){return B(this)[t]}})},U=function(e){var t;return e instanceof F||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},H=function(e,t){return $(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return H(e,t=m(t,!0))?l(2,e[t]):L(e,t)},z=function(e,t,n){return!(H(e,t=m(t,!0))&&y(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?S(e,t,n):(e[t]=n.value,e)};a?(V||(E.f=Y,C.f=z,P(D,"buffer"),P(D,"byteOffset"),P(D,"byteLength"),P(D,"length")),r({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:Y,defineProperty:z}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,o=e+(n?"Clamped":"")+"Array",u="get"+e,l="set"+e,m=i[o],g=m,b=g&&g.prototype,C={},E=function(e,t){S(e,t,{get:function(){return function(e,t){var n=B(e);return n.view[u](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=B(e);n&&(r=(r=R(r))<0?0:r>255?255:255&r),i.view[l](t*a+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};V?s&&(g=t((function(e,t,n,r){return c(e,g,o),I(y(t)?U(t)?void 0!==r?new m(t,p(n,a),r):void 0!==n?new m(t,p(n,a)):new m(t):$(t)?q(g,t):x.call(g,t):new m(h(t)),e,g)})),A&&A(g,j),_(w(m),(function(e){e in g||d(g,e,m[e])})),g.prototype=b):(g=t((function(e,t,n,r){c(e,g,o);var i,s,u,l=0,d=0;if(y(t)){if(!U(t))return $(t)?q(g,t):x.call(g,t);i=t,d=p(n,a);var m=t.byteLength;if(void 0===r){if(m%a)throw k("Wrong length");if((s=m-d)<0)throw k("Wrong length")}else if((s=f(r)*a)+d>m)throw k("Wrong length");u=s/a}else u=h(t),i=new F(s=u*a);for(O(e,{buffer:i,byteOffset:d,byteLength:s,length:u,view:new N(i)});l<u;)E(e,l++)})),A&&A(g,j),b=g.prototype=v(D)),b.constructor!==g&&d(b,"constructor",g),W&&d(b,W,o),C[o]=g,r({global:!0,forced:g!=m,sham:!V},C),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in b||d(b,"BYTES_PER_ELEMENT",a),T(o)}):e.exports=function(){}},"77a7":function(e,t){var n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,s=Math.LN2;e.exports={pack:function(e,t,o){var u,c,l,d=new Array(o),f=8*o-t-1,h=(1<<f)-1,p=h>>1,m=23===t?r(2,-24)-r(2,-77):0,g=e<0||0===e&&1/e<0?1:0,b=0;for((e=n(e))!=e||e===1/0?(c=e!=e?1:0,u=h):(u=i(a(e)/s),e*(l=r(2,-u))<1&&(u--,l*=2),(e+=u+p>=1?m/l:m*r(2,1-p))*l>=2&&(u++,l/=2),u+p>=h?(c=0,u=h):u+p>=1?(c=(e*l-1)*r(2,t),u+=p):(c=e*r(2,p-1)*r(2,t),u=0));t>=8;d[b++]=255&c,c/=256,t-=8);for(u=u<<t|c,f+=t;f>0;d[b++]=255&u,u/=256,f-=8);return d[--b]|=128*g,d},unpack:function(e,t){var n,i=e.length,a=8*i-t-1,s=(1<<a)-1,o=s>>1,u=a-7,c=i-1,l=e[c--],d=127&l;for(l>>=7;u>0;d=256*d+e[c],c--,u-=8);for(n=d&(1<<-u)-1,d>>=-u,u+=t;u>0;n=256*n+e[c],c--,u-=8);if(0===d)d=1-o;else{if(d===s)return n?NaN:l?-1/0:1/0;n+=r(2,t),d-=o}return(l?-1:1)*n*r(2,d-t)}}},"81d5":function(e,t,n){"use strict";var r=n("7b0b"),i=n("23cb"),a=n("50c4");e.exports=function(e){for(var t=r(this),n=a(t.length),s=arguments.length,o=i(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>o;)t[o++]=e;return t}},"82f8":function(e,t,n){"use strict";var r=n("ebb5"),i=n("4d64").includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"8aa7":function(e,t,n){var r=n("da84"),i=n("d039"),a=n("1c7e"),s=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,o=r.ArrayBuffer,u=r.Int8Array;e.exports=!s||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new o(2),1,void 0).length}))},9379:function(e,t,n){"use strict";var r=n("d2e9");n.n(r).a},9820:function(e,t,n){"use strict";var r=n("e0cf");n.n(r).a},"9a8c":function(e,t,n){"use strict";var r=n("ebb5"),i=n("145e"),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(e,t){return i.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},a078:function(e,t,n){var r=n("7b0b"),i=n("50c4"),a=n("35a1"),s=n("e95a"),o=n("0366"),u=n("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,n,c,l,d,f,h=r(e),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,b=a(h);if(void 0!=b&&!s(b))for(f=(d=b.call(h)).next,h=[];!(l=f.call(d)).done;)h.push(l.value);for(g&&p>2&&(m=o(m,arguments[2],2)),n=i(h.length),c=new(u(this))(n),t=0;n>t;t++)c[t]=g?m(h[t],t):h[t];return c}},a975:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},ace4:function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("621a"),s=n("825a"),o=n("23cb"),u=n("50c4"),c=n("4840"),l=a.ArrayBuffer,d=a.DataView,f=l.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(s(this),e);for(var n=s(this).byteLength,r=o(e,n),i=o(void 0===t?n:t,n),a=new(c(this,l))(u(i-r)),h=new d(this),p=new d(a),m=0;r<i;)p.setUint8(m++,h.getUint8(r++));return a}})},b39a:function(e,t,n){"use strict";var r=n("da84"),i=n("ebb5"),a=n("d039"),s=r.Int8Array,o=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,d=!!s&&a((function(){c.call(new s(1))}));u("toLocaleString",(function(){return c.apply(d?l.call(o(this)):o(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!a((function(){s.prototype.toLocaleString.call([1,2])})))},b94e:function(e,t,n){"use strict";var r=n("4c69");e.exports=o;var i=s("in",document.body);function a(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*o(n[1],e)}function s(e,t){var n=document.createElement("div");n.style.height="128"+e,t.appendChild(n);var r=a(n,"height")/128;return t.removeChild(n),r}function o(e,t){if(!e)return null;switch(t=t||document.body,e=(e+""||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return s(e,t);case"em":return a(t,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6;case"px":return 1}var n=r(e);if(!isNaN(n[0])&&n[1]){var u=o(n[1],t);return"number"==typeof u?n[0]*u:null}return null}},c1ac:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").filter,a=n("4840"),s=r.aTypedArray,o=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(e){for(var t=i(s(this),e,arguments.length>1?arguments[1]:void 0),n=a(this,this.constructor),r=0,u=t.length,c=new(o(n))(u);u>r;)c[r]=t[r++];return c}))},ca91:function(e,t,n){"use strict";var r=n("ebb5"),i=n("d58f").left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},cd26:function(e,t,n){"use strict";var r=n("ebb5"),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=Math.floor;a("reverse",(function(){for(var e,t=i(this).length,n=s(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}))},d139:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d2e9:function(e,t,n){},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),a=n("44ad"),s=n("50c4"),o=function(e){return function(t,n,o,u){r(n);var c=i(t),l=a(c),d=s(c.length),f=e?d-1:0,h=e?-1:1;if(o<2)for(;;){if(f in l){u=l[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=h)f in l&&(u=n(u,l[f],f,c));return u}};e.exports={left:o(!1),right:o(!0)}},d5d6:function(e,t,n){"use strict";var r=n("ebb5"),i=n("b727").forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d80e:function(e,t,n){"use strict";n.r(t),n("99af"),n("c975"),n("b0c0"),n("ac1f"),n("5319");var r=n("993f"),i=n("1188"),a={name:"AddMessage",components:{NewComment:r.a,vueBaberrage:i.vueBaberrage},props:{list:Array},data:function(){return{messSub:!1,barrageIsShow:!0,currentId:0,barrageLoop:!0,messList:[],style:["green","red","blue","green","yellow"],FormData:{message:"",article_id:0}}},watch:{list:function(){var e=this.list.length;if(e<=20){var t=0;for(this.list.length>10&&(t=10*Math.floor((this.list.length-1)/10));t<e;t++)this.messList.push({id:this.list[t].id,avatar:this.list[t].user?this.list[t].user.avatar_url:"http://api.btstu.cn/sjtx/api.php?lx=c1&format=images",msg:this.list[t].body,time:Math.ceil(5*Math.random()+4),barrageStyle:this.style[Math.ceil(4*Math.random())]})}}},methods:{next:function(e){document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},emotion:function(e){var t=e.replace(/\#|\;/gi,""),n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"].indexOf(t);return"![](https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/".concat(n,".gif)")},submit:function(e){this.FormData.message=e.content,this.FormData.ip=e.ip,this.FormData.address=e.address,e.name&&(this.FormData.tourist=e.name),e.qq&&(this.FormData.qq=e.qq);var t=this;this.$post("/apis/message/"+e.type,this.FormData).then((function(e){t.$emit("submit"),t.$message({showClose:!0,message:e.message,type:"success"})})).catch((function(e){}))}}},s=(n("0440"),n("2877")),o=Object(s.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message barrages-drop"},[n("div",{staticStyle:{width:"100%",overflow:"hidden"}},[n("vue-baberrage",{staticStyle:{width:"100%",height:"100%"},attrs:{isShow:e.barrageIsShow,barrageList:e.messList,maxWordCount:30,loop:e.barrageLoop}})],1),n("div",{staticClass:"mess-body container"},[e._m(0),n("new-comment",{staticClass:"blog-animation comment"})],1),n("span",{staticClass:"screen-next iconfont",on:{click:function(t){return e.next("#next")}}},[e._v("  ")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"mess-title blog-animation"},[t("i",{staticClass:"el-icon-chat-line-square"}),this._v("畅所欲言！ ")])}],!1,null,null,null).exports,u={name:"AddLink",data:function(){return{FormData:{name:"",info:"",link:"",imgUrl:""},linkAdd:!1,rules:{name:[{required:!0,message:"请输入网站名称",trigger:"blur,change"},{min:3,max:10,message:"长度在 3 到 10个字符",trigger:"blur"}],info:[{required:!0,message:"请输入网站介绍",trigger:"blur,change"},{min:3,max:10,message:"网站介绍长度在 3 到 10个字符",trigger:"blur"}],link:[{required:!0,message:"请输入网站地址",trigger:"blur,change"},{min:3,max:50,message:"网站地址长度在 3 到 50个字符",trigger:"blur"}],imgUrl:[{required:!0,message:"请输入网站图标地址",trigger:"blur,change"},{min:3,max:100,message:"长度在 3 到 100个字符",trigger:"blur"}]}}},methods:{submit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var n=t;t.$post("/apis/user/link/apply",t.FormData).then((function(e){n.$my_message(e.data)})).catch((function(e){}))}}))}}},c=(n("9820"),Object(s.a)(u,(function(){return this.$createElement,this._self._c,this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"link container"},[t("h1",{staticClass:"mess-title",attrs:{id:"next"}},[t("i",{staticClass:"el-icon-thumb"}),this._v("交个朋友吧！")])])}],!1,null,"44be449a",null).exports),l=(n("4de4"),n("3898")),d={name:"MessCardBlog",props:{car:{pattern:Boolean,left:Boolean},list:{}},components:{NewComment:r.a,MyMarked:l.a},data:function(){return{open:!1,flicker:0,pattern:"mess",id:0,reply_id:0,url:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3656238279,115253853&fm=26&gp=0.jpg",boo:!1,FormData:{mess_id:"",reply:""}}},computed:{userInfo:function(){return this.$store.state.user.user}},methods:{roll:function(e){this.flicker=e,e="#reply"+e,document.querySelector(e).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},formatReply:function(e){return e.loc_country+'<span style="margin: 0 2px;">•</span>'+e.loc_province+'<span style="margin: 0 2px;">•</span>'+e.loc_city},emotion:function(e){var t=e.replace(/\#|\;/gi,""),n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"].indexOf(t);return"![](https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/".concat(n,".gif)")},reply:function(e){this.reply_id=0,this.id==e&&"mess"==this.pattern?this.id=0:(this.id=e,this.pattern="mess")},replyMess:function(e,t,n){this.reply_id==e?(this.reply_id=0,this.mess_reply_id=0):(this.pattern="reply",this.id=t,this.reply_id=e,name,this.mess_reply_id=n)},submit:function(e){this.reply_id?this.FormData.mess_reply_id=this.reply_id:delete this.FormData.mess_reply_id,this.FormData.reply=e.content,this.FormData.mess_id=this.id,this.FormData.ip=e.ip,this.FormData.address=e.address;var t=this;this.$post("/apis/user/reply/add",this.FormData).then((function(e){t.$emit("submit"),t.$message({showClose:!0,message:e.message,type:"success"})})).catch((function(e){}))},dele:function(e,t){var n=this;this.$post("/apis/user/"+t+"/remove",{id:e}).then((function(e){n.$emit("submit"),n.$message({showClose:!0,message:e.message,type:"success"})})).catch((function(e){}))},setColor:function(){var e=parseInt(256*Math.random()),t=parseInt(256*Math.random()),n=parseInt(256*Math.random());return"rgba(".concat(e,",").concat(t,",").concat(n,",0.3)")},getDateDiff:function(e){var t=(new Date).getTime(),n=t/1e3-e;if(!(n<0)){var r=n/2592e3,i=n/604800,a=n/86400,s=n/3600,o=n/60;return r>=1?parseInt(r)+"月前":i>=1?parseInt(i)+"周前":a>=1?parseInt(a)+"天前":s>=1?parseInt(s)+"小时前":o>=1?parseInt(o)+"分钟前":"刚刚"}}}},f=(n("411b"),Object(s.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticStyle:{padding:"0"}},e._l(e.list,(function(t,r){return n("li",{key:t.id,staticClass:"mess-item",class:e.car.left?"mess-item-left":"mess-item-right",style:{"animation-duration":(r+1)%10*100+200+"ms"}},[n("div",{staticClass:"mess-info",class:e.car.left?"mess-info-left":"mess-info-right"},[e.userInfo.id==t.user_id&&e.userInfo.id>0||1==e.userInfo.is_admin?n("el-popconfirm",{attrs:{title:"这条留言确认删除吗？"},on:{onConfirm:function(n){return e.dele(t.id,"message")}}},[n("a",{staticClass:"dele-mess el-icon-delete",attrs:{slot:"reference",href:"javascript:;"},slot:"reference"})]):e._e(),n("div",{staticClass:"mess-header",class:{"mess-header-dis":!e.car.pattern}},[n("div",{staticClass:"header-left a-tag"},[n("div"),n("el-avatar",{staticClass:"user-img",attrs:{shape:"square",src:t.name?t.name:t.qq?"http://q1.qlogo.cn/g?b=qq&nk="+t.qq+"&s=100":""}},[n("div",{style:"background-image: linear-gradient(270deg,"+e.setColor()+","+e.setColor()+")"},[e._v(" "+e._s(t.name?t.name:t.tourist)+" ")])]),e.car.pattern?n("div",{staticClass:"header-right"},[n("a",{staticClass:"el-icon-chat-line-round mess-name",attrs:{href:"javascript:;"}},[e._v(" "+e._s(t.name?t.name:"游客")+" ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:null!=t.user&&1==t.user.is_admin,expression:"item.user != null && item.user.is_admin == 1"}],staticClass:"bolg-admin el-icon-sunny"},[e._v("站长")])]):e._e()],1)]),n("div",{staticClass:"mess-body"},[n("my-marked",{attrs:{initialValue:t.body.replace(/\#[\u4E00-\u9FA5]{1,3}\;/gi,e.emotion),copyCode:!1,imgView:!1}}),n("p",{staticClass:"time",staticStyle:{"text-align":"right"}},[e._v(" "+e._s(e.getDateDiff(t.created))+" "),n("span",{staticStyle:{margin:"10px"}},[e._v(" "),n("span",{domProps:{innerHTML:e._s(e.formatReply(t))}})])])],1),n("transition",{attrs:{name:"down"}},[t.id==e.id&&"mess"==e.pattern?n("div",{staticClass:"mess-add"},[e.car.pattern?n("new-comment",{on:{submit:e.submit}}):e._e()],1):e._e()])],1)])})),0)}),[],!1,null,"3b1de1fe",null).exports),h={name:"MessageList",props:{list:Array},components:{MessCardBlog:f},computed:{MessListLeft:function(){return this.isShow?this.list:(this.list,this.list.filter((function(e){return e.id%2!=0})))},MessListRight:function(){if(!this.isShow)return this.list.filter((function(e){return e.id%2==0}))}},data:function(){return{isShow:document.body.clientWidth<=992,left:{pattern:!0,left:!0},right:{pattern:!0,left:!1}}},methods:{getMess:function(){this.$emit("submit")}}},p=(n("9379"),{name:"Message",components:{AddLink:c,AddMessage:o,MessageList:Object(s.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container mess-list"},[e._m(0),n("div",{staticClass:"mess-group"},[n("div",{staticClass:"mess-content"},[n("el-row",[n("el-col",{attrs:{md:12,sm:24}},[n("MessCardBlog",{staticClass:"MessListLeft",attrs:{list:e.MessListLeft,car:e.left},on:{submit:e.getMess}})],1),e.isShow?e._e():n("el-col",{attrs:{md:12,sm:24}},[n("MessCardBlog",{staticClass:"MessListRight",attrs:{list:e.MessListRight,car:e.right},on:{submit:e.getMess}})],1)],1)],1)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"mess-title"},[t("i",{staticClass:"el-icon-ice-cream-round"})])}],!1,null,"620f07c1",null).exports},data:function(){return{list:[],current_page:1,last_page:1,loading:!1,count:0}},methods:{getMessList:function(){var e=this;this.loading=!0,e.$get("/api/v1/home/comments?page="+e.current_page).then((function(t){e.list=e.list.concat(t.results),e.last_page=t.last_page,e.loading=!1,e.count=t.count,e.last_page,e.current_page})).catch((function(t){e.loading=!1}))},next:function(){this.current_page<this.last_page&&(this.current_page++,this.getMessList())}},created:function(){this.getMessList()}}),m=(n("6284"),Object(s.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messa"},[n("add-message",{attrs:{list:e.list},on:{submit:e.getMessList}}),n("div",{staticClass:"mess-bg"},[n("message-list",{attrs:{list:e.list},on:{submit:e.getMessList}}),n("p",{staticClass:"next"},[n("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"#f8f8f8"},on:{click:e.next}},[n("i",{staticClass:"next-icon",class:e.current_page==e.last_page?"el-icon-arrow-up":"el-icon-arrow-down"}),e._v(" "+e._s(e.current_page==e.last_page?"没有更多了！快去留言吧！^o^":"点击查看更多")+" ")])])],1)],1)}),[],!1,null,"71646a6c",null));t.default=m.exports},e0cf:function(e,t,n){},e58c:function(e,t,n){"use strict";var r=n("fc6a"),i=n("a691"),a=n("50c4"),s=n("a640"),o=n("ae40"),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),f=o("indexOf",{ACCESSORS:!0,1:0}),h=l||!d||!f;e.exports=h?function(e){if(l)return c.apply(this,arguments)||0;var t=r(this),n=a(t.length),s=n-1;for(arguments.length>1&&(s=u(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},e91f:function(e,t,n){"use strict";var r=n("ebb5"),i=n("4d64").indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},ebb5:function(e,t,n){"use strict";var r,i=n("a981"),a=n("83ab"),s=n("da84"),o=n("861d"),u=n("5135"),c=n("f5df"),l=n("9112"),d=n("6eeb"),f=n("9bf2").f,h=n("e163"),p=n("d2bb"),m=n("b622"),g=n("90e3"),b=s.Int8Array,y=b&&b.prototype,v=s.Uint8ClampedArray,A=v&&v.prototype,w=b&&h(b),x=y&&h(y),_=Object.prototype,T=_.isPrototypeOf,C=m("toStringTag"),E=g("TYPED_ARRAY_TAG"),M=i&&!!p&&"Opera"!==c(s.opera),I=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O=function(e){return o(e)&&u(B,c(e))};for(r in B)s[r]||(M=!1);if((!M||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},M))for(r in B)s[r]&&p(s[r],w);if((!M||!x||x===_)&&(x=w.prototype,M))for(r in B)s[r]&&p(s[r].prototype,x);if(M&&h(A)!==x&&p(A,x),a&&!u(x,C))for(r in I=!0,f(x,C,{get:function(){return o(this)?this[E]:void 0}}),B)s[r]&&l(s[r],E,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:I&&E,aTypedArray:function(e){if(O(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(T.call(w,e))return e}else for(var t in B)if(u(B,r)){var n=s[t];if(n&&(e===n||T.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var r in B){var i=s[r];i&&u(i.prototype,e)&&delete i.prototype[e]}x[e]&&!n||d(x,e,n?t:M&&y[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(p){if(n)for(r in B)(i=s[r])&&u(i,e)&&delete i[e];if(w[e]&&!n)return;try{return d(w,e,n?t:M&&b[e]||t)}catch(e){}}for(r in B)!(i=s[r])||i[e]&&!n||d(i,e,t)}},isView:function(e){var t=c(e);return"DataView"===t||u(B,t)},isTypedArray:O,TypedArray:w,TypedArrayPrototype:x}},f8cd:function(e,t,n){var r=n("a691");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},fe7c:function(e,t,n){}}]);