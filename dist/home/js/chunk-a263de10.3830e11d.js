(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a263de10"],{"278c":function(t,s,e){"use strict";var o=e("f949");e.n(o).a},"9b19":function(t,s,e){t.exports=e.p+"img/logo.111bb62d.svg"},c3fa:function(t,s,e){"use strict";e.r(s);var o={name:"Login",data:function(){return{loading:!1,formCustom:{type:"name",name:"",password:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"长度在 2到 20 个字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6到 20 个字符",trigger:"change"}]}}},methods:{login:function(t){var s=this;this.$refs[t].validate((function(t){if(!t)return s.$notify.error({title:"错误",message:"按照提示正确填写账号和密码"}),!1;var e=s;e.loading?e.$message({showClose:!0,message:"正在登录中……",type:"success"}):(e.loading=!0,e.loading=!0,s.$post("/apis/login",s.formCustom).then((function(t){e.$store.dispatch("setToken",t.data.token),e.$store.dispatch("userInfo"),e.loading=!1,e.$router.push("/blog"),e.$message({showClose:!0,message:"登录成功",type:"success"})})).catch((function(t){e.loading=!1})))}))},partyLogin:function(t){var s=this.$partyLogin+"/login/"+t+"/redirect";window.location.href=s}},created:function(){this.$partyLogin,this.$route.query.token&&(this.$store.dispatch("setToken",this.$route.query.token),this.$store.dispatch("userInfo"),this.$router.push("/blog"),this.$message({showClose:!0,message:"登录成功",type:"success"}))}},i=(e("278c"),e("2877")),n=Object(i.a)(o,(function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"login"},[o("el-row",{staticClass:"row"},[o("el-col",{staticClass:"login-con blog-animation",attrs:{xl:6,md:8,sm:12,xs:22}},[o("div",{staticClass:"login-img"},[o("img",{attrs:{src:e("9b19")}})]),o("p",{staticClass:"login-welcome"},[t._v("欢迎登录！")]),o("el-form",{ref:"formCustom",attrs:{model:t.formCustom,"status-icon":"",rules:t.rules}},[o("el-form-item",{attrs:{prop:"name"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-user",type:"text",placeholder:"用户名",autocomplete:"off"},model:{value:t.formCustom.name,callback:function(s){t.$set(t.formCustom,"name",s)},expression:"formCustom.name"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",placeholder:"密码",autocomplete:"off"},model:{value:t.formCustom.password,callback:function(s){t.$set(t.formCustom,"password",s)},expression:"formCustom.password"}})],1),o("div",{staticClass:"login-btn"},[o("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"btn",on:{click:function(s){return t.login("formCustom")}}},[t._v("登录")]),o("div",{staticClass:"a-tag user"},[o("router-link",{attrs:{to:"/sign"}},[t._v("立即注册")]),o("router-link",{attrs:{to:"/forget"}},[t._v("找回密码")])],1),o("el-divider",[t._v("第三方登录")]),o("div",{staticClass:"share"},[o("span",{staticClass:"iconfont qq",attrs:{title:"使用QQ账号登录"},on:{click:function(s){return t.partyLogin("qq")}}},[t._v("")]),o("span",{staticClass:"iconfont gitee",attrs:{title:"使用Gitee登录"},on:{click:function(s){return t.partyLogin("gitee")}}},[t._v("")]),o("span",{staticClass:"iconfont github",attrs:{title:"使用GitHub登录"},on:{click:function(s){return t.partyLogin("github")}}},[t._v("")])])],1)],1)],1)],1)],1)}),[],!1,null,"56866d1b",null);s.default=n.exports},f949:function(t,s,e){}}]);